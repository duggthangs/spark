# IAEE Agent Guide: Generating Interactive Plans

IAEE (Interactive Agent Experience Engine) replaces static markdown plans with deterministic, delightful, wizard-style experiences. As an agent, your goal is to emit structured JSON that IAEE can render for a human to review.

## 1. The IAEE Lifecycle
1. **Emit**: You generate a JSON file following the [Experience Schema](../engine/schema.ts).
2. **Run**: The user executes `iaee run your-plan.json`.
3. **Interact**: The user steps through your plan, making choices, reordering priorities, or editing code.
4. **Synthesize**: Upon submission, the CLI outputs a **Markdown Summary** (generated by [compiler.ts](../engine/compiler.ts)) back to you.
5. **Apply**: you read the summary and apply the user's decisions to the codebase.

## 2. Generation Rules
- **Exactly One Decision Section**: Every experience must end with a `type: "decision"` section. This is the final gate for approval.
- **Section IDs**: Use stable, descriptive IDs (e.g., `select-database`, `priority-list`). These IDs are the keys in the result payload.
- **Context is Key**: Use `type: "info"` sections early in the wizard to frame the problem before asking for decisions.

## 3. Supported Experiences
For a full list of interactive types, refer to the **[Interactive Experiences Reference](./interactive-experiences-reference.md)**. 

### Core Hardened Types:
- **`info`**: Read-only context and instructions.
- **`choice`**: Single or multi-select with optional custom additions.
- **`rank`**: Draggable reordering for prioritization.
- **`text-review`**: Simple text feedback area.
- **`kanban`**: Multi-column task organization and prioritization.
- **`api-builder`**: Interactive HTTP endpoint definition (Method, Path, Body, Response).
- **`data-mapper`**: Visual linking between source and target data fields.
- **`live-component`**: React/Tailwind code editor with immediate preview.
- **`code-selector`**: Comparison tool for multiple code implementations.
- **`numeric-inputs`**: Resource allocation/budgeting with real-time totals.
- **`card-deck`**: Structured data entry for entities like Personas or Stories.
- **`image-choice`**: Visual selection from a gallery.
- **`decision`**: The mandatory approval/rejection gate.

## 4. Tips for Delight
- **Start with Info**: Don't jump straight into choices. Contextualize the plan first.
- **Use Live Components**: If proposing a UI change, use `live-component` so the user can "feel" the layout.
- **Use Code Selector**: When proposing multiple implementation options (algorithms, patterns, utilities), use `code-selector` so the user can compare, select, and customize.
- **Group Logic**: Use `kanban` for prioritization instead of simple lists.
